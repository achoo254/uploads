package com.quanly.demo.service;

import java.util.List;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;
import org.springframework.data.repository.query.Param;
import org.springframework.stereotype.Repository;

import com.quanly.demo.model.Categories;
import com.quanly.demo.model.ProductDetails;

@Repository
public interface ProductDetailsService  extends JpaRepository<ProductDetails, Integer>{
	@Query(nativeQuery = true, value = "SELECT p.name, p.product_id FROM product_details dt inner join product p on dt.product_id = p.product_id where dt.categories_id = :categoriesId group by p.name, p.product_id")
	List<ProductDetails> findByProductDetailsCategories(@Param("categoriesId") int categoriesId);
}
